Product Requirements Document (PRD)

ğŸ§  Titolo del Progetto

SmartCircuit Designer for KiCad  
Un'estensione intelligente per la progettazione, analisi, ottimizzazione e documentazione di circuiti elettronici professionali.

---

ğŸ¯ Obiettivo

Sviluppare unâ€™estensione/plugin per KiCad che permetta ai progettisti di:
- Generare schematici .kicad_sch professionali, conformi alle normative europee (CEI, EMC, RoHS)
- Eseguire calcoli elettrici, simulazioni SPICE, analisi termiche e tolleranze
- Visualizzare documentazione tecnica e BOM con stima costi reali
- Importare immagini di PCB esistenti per fare reverse engineering
- Validare, modificare e migliorare progetti esistenti .sch

---

ğŸ”© FunzionalitÃ  principali

| Funzione | Descrizione |
|---------|-------------|
| âœï¸ Prompt parametrico | Interfaccia per creare un circuito da specifiche tecniche |
| âš™ï¸ Generazione schematico | Creazione .kicad_sch conforme a sexpr schematic format |
| ğŸ“Š Analisi tecnica | Calcoli elettrici, tolleranze, analisi termica (>10W), simulazioni LTSpice |
| ğŸ’° BOM + Costi | Generazione distinta base con costi da fornitori reali (Farnell, Mouserâ€¦) |
| ğŸ§¼ Verifica normativa | Validazione rispetto a CEI, EMC, RoHS e best practices PCB |
| ğŸ” Reverse engineering | Importazione immagine PCB â†’ generazione schematico .sch |
| ğŸ›¡ï¸ Sicurezza e protezione | Controllo polaritÃ , protezione da sovratensione/inversione, filtri EMI/EMC |

---

ğŸ–¼ï¸ Mockup della UI

`plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SmartCircuit Designer â”€ KiCad Extension     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â—‰ Obiettivo circuito: [Illuminazione LED]    â”‚
â”‚ â—‰ Alimentazione: [12V DC]                    â”‚
â”‚ â—‰ Potenza max: [20W]                         â”‚
â”‚ â—‰ Tipologia: [Alimentazione] â–¼               â”‚
â”‚ â—‰ Normative: [CEI, EMC, RoHS] âœ“              â”‚
â”‚ â—‰ Budget massimo: [5â‚¬]                       â”‚
â”‚ â—‰ Simulazione SPICE: [âœ“]                     â”‚
â”‚ â—‰ Reverse image: [Scegli file ğŸ“·]            â”‚
â”‚                                              â”‚
â”‚      [Analizza Circuito]   [Genera Schematico] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`

---

ğŸ”Œ API Schema di base

`yaml
POST /generate-circuit
Content-Type: application/json

{
  "objective": "Driver LED 350mA",
  "power_in": "12V",
  "power_out": "3.2V 350mA",
  "type": "Alimentazione",
  "constraints": {
    "maxsizemm": "40x40",
    "budget_eur": 5.0,
    "norms": ["CEI", "EMC", "RoHS"],
    "simulate_spice": true,
    "analyze_thermal": true
  },
  "reverseimage": "base64encodedimagedata"
}
`

Risposta:

`json
{
  "schfile": "base64encodedkicadsch",
  "bom": [
    {"part": "R1", "value": "470Î©", "supplier": "Farnell", "price": "0.06â‚¬"},
    {"part": "D1", "value": "LED white", "supplier": "Mouser", "price": "0.14â‚¬"}
  ],
  "technicalreportmd": "base64encodedmarkdown_report",
  "ltspicefile": "base64encodedspicefile"
}
`

---

ğŸš€ Fasi di sviluppo

1. Definizione schema UI + plugin Python per KiCad
2. Integrazione API Copilot (via chiamate REST/GraphQL o plugin locale)
3. Parsing e validazione file .kicad_sch
4. Motore di generazione schemi e simulazioni
5. Generazione documentazione e BOM automatica
6. Supporto reverse engineering da immagini

---

ğŸ“ Note

- La UI puÃ² essere sviluppata con wxPython (compatibile con KiCad)
- L'estensione puÃ² essere pacchettizzata come Action Plugin o Tool Plugin
- Eventuali accessi esterni a Copilot richiederanno gestione API key + sicurezza
- Le simulazioni LTSpice possono essere generate in formato .asc per visualizzazione grafica

---